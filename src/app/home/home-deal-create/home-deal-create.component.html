{{ diagnostic }}
{{ extraLinks }}
<div ng-controller="registerFromController">
  {{ title }}
  <div class="container">
      <div class="alert alert-primary" role="alert" *ngIf="isCreated">
          You have successfully created!
          <br />
          <a class="alert-link" routerLink="/home">Click here back to Home</a>
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
    <div class="py-5 text-center">
      <h2>Create A New Deal</h2>
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam, quis ab!
        Eligendi sed commodi voluptatem vero suscipit consequatur numquam
        aperiam doloribus obcaecati ducimus, corrupti similique asperiores
        explicabo perspiciatis officia ab?
      </p>
    </div>
  </div>

  <div class="container">
    <h4 class="mb-3">New Deal Information</h4>
    <form class="needs-validation" novalidate #linkCreateFrom="ngForm">
      <div class="mb-3">
        <label for="title">Title</label>
        <input
          type="text"
          class="form-control"
          name="title"
          [(ngModel)]="deal.title"
          id="title"
          required
        />
        <div class="invalid-feedback">
          Please enter your Deal Title
        </div>
      </div>

      <div class="row">
        <div class="col-6 mb-3">
          <label for="link">Deal Link</label>
          <input
            type="text"
            class="form-control"
            name="link"
            id="link"
            [(ngModel)]="link.link"
            required
          />
          <div class="invalid-feedback">
            Please enter Deal Link
          </div>
        </div>
        <div class="col-6 mb-3">
          <label for="linkLabel">Deal Link Label</label>
          <input
            type="text"
            class="form-control"
            id="linkLabel"
            name="linkLabel"
            [(ngModel)]="link.linkName"
            required
          />
          <div class="invalid-feedback">
            Please enter Deal Link Label
          </div>
        </div>
      </div>

      <div *ngFor="let link of links; index as i">
        <div class="row">
          <div class="col-6 mb-3">
            <label for="link">Extra Deal Link</label>
            <input
              type="text"
              class="form-control"
              id="link"
              name="extralink"
              [(ngModel)]="links[i].link"
              required
            />
            <div class="invalid-feedback">
              Please enter Deal Link
            </div>
          </div>
          <div class="col-6 mb-3">
            <label for="linkLabel">Extra Deal Link Label</label>
            <input
              type="text"
              class="form-control"
              id="linkLabel"
              name="extralinkName"
              [(ngModel)]="links[i].linkName"
              required
            />
            <div class="invalid-feedback">
              Please enter Deal Link Label
            </div>
          </div>
        </div>
      </div>

      <div class="text-right">
        <button
          type="button"
          class="btn btn-primary d-inline"
          (click)="linkAdd()"
        >
          Add
        </button>
      </div>

      <div class="row">
        <div class="col-5 mb-3">
          <label for="warehouse">Warehouse</label>
          <select
            class="custom-select d-block w-100"
            id="warehouse"
            name="warehouse"
            [(ngModel)]="deal.warehouse"
            required
          >
            <option
              *ngFor="let warehouse of warehouses"
              [ngValue]="warehouse.value"
            >
              {{ warehouse.name }}
            </option>
          </select>
          <div class="invalid-feedback">
            Please select a valid Warehouse Location.
          </div>
        </div>

        <div class="col-4 mb-3">
          <label for="price">Price</label>
          <input
            type="text"
            class="form-control"
            id="price"
            name="price"
            [(ngModel)]="deal.price"
            required
          />
          <div class="invalid-feedback">
            Price required
          </div>
        </div>

        <div class="col-3 mb-3">
          <label for="price">Quantity</label>
          <input
            type="text"
            class="form-control"
            id="quantity"
            name="quantity"
            [(ngModel)]="deal.quantity"
            required
          />
          <div class="invalid-feedback">
            Quantity required
          </div>
        </div>
      </div>

      <div class="mb-3">
        <label for="description">Description</label>
        <textarea
          id="description"
          rows="4"
          class="form-control"
          name="description"
          [(ngModel)]="deal.description"
        ></textarea>
      </div>

      <hr class="mb-4" />
    </form>

    <div>
      <button class="btn btn-primary float-right" (click)="dealCreate()">
        Next
      </button>
      <button
        class="btn btn-primary float-left"
        routerLink="/home"
        type="submit"
      >
        Back
      </button>
    </div>
  </div>
</div>
